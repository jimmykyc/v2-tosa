"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var getSiblings=function(e){return _toConsumableArray(e.parentNode.children).filter((function(t){return 1==t.nodeType&&t!=e}))};window.addEventListener("load",(function(){document.body.classList.add("loaded")})),setTimeout((function(){document.body.classList.add("loaded")}),7e3),document.addEventListener("DOMContentLoaded",(function(){var e=new SweetScroll({duration:0}),t=window.location.hash,o="#s-".concat(t.substring(1)),r=null!=document.querySelector(o);window.addEventListener("load",(function(){r&&e.to(o)}),!1),setTimeout((function(){document.body.classList.add("loaded")}),3500);var n=new Swiper(".js_swiper",{slidesPerView:1,spaceBetween:0,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0},preloadImages:!1,lazy:{loadPrevNext:!0,loadPrevNextAmount:5}});document.querySelectorAll(".js_mg2").forEach((function(e){e.addEventListener("click",(function(t){var o=parseInt(e.getAttribute("data-slide"));n.slideTo(o-1);var r=o<12?"color":o>=12&&o<18?"head":o>=18&&o<24?"clothes":o>=24&&o<30?"body":o>=30&&o<36?"filling":"background";document.querySelector(".s-mg2").setAttribute("data-slide",o),document.querySelector(".mg2").setAttribute("data-slide",o),document.querySelector(".mg2").setAttribute("data-block",r)}))}));var i=new ScrollMagic.Controller;function a(){new ScrollMagic.Scene({triggerElement:"body",triggerHook:0,duration:.7*window.innerHeight}).setClassToggle(".s-main__pic","m-show").setTween(".s-main__img",{opacity:0}).addTo(i);var e=1.3*window.innerHeight,t=4*window.innerHeight;if(window.matchMedia("(max-width: 767.92px)").matches){new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,duration:t}).setClassToggle("body","m-holdmenu").setPin(".mg1-spacer").addTo(i);for(var o=document.querySelectorAll(".mg1__item:not(.mg1__item_0)"),r=t/o.length,n=0;n<o.length;n++)new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,offset:r*n+.3*r,duration:r-.2*r}).setTween(o[n],{opacity:1}).addTo(i)}if(window.matchMedia("(min-width: 768px)").matches){new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,duration:e}).setClassToggle("body","m-holdmenu").setPin(".mg1-spacer").addTo(i);var a="vw",l=13.5,d=0,s=9,c=6;window.matchMedia("(min-width: 1500px)").matches&&(d=-20,a="%",l=30.5,s=0,c=-7,new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,duration:.75*e}).setTween(".mg1",{transform:"translateX(calc((100vw - 1500px - 132px * 2) / 2)"}).addTo(i));for(var u=document.querySelectorAll(".mg1__item:not(.mg1__item_0)"),m=0;m<u.length;m++)m>0&&m<5?d=s:5===m&&(d=c),new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,duration:.75*e}).setTween(u[m],{transform:"translateX(".concat(l*m-d).concat(a,")")}).addTo(i);for(var g=document.querySelectorAll(".mg1__fade"),y=0;y<g.length;y++)new ScrollMagic.Scene({triggerElement:".mg1-trigger",triggerHook:0,offset:.6*e,duration:.2*e}).setTween(g[y],{opacity:1}).addTo(i)}}a();var l,d=window.innerWidth;window.addEventListener("resize",(function(){var e=window.innerWidth;e!==d&&(e=e,clearTimeout(l),l=setTimeout((function(){i=i.destroy(!0),i=new ScrollMagic.Controller,a()}),150))}),!1);var s=new SweetScroll({trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,easing:"easeInOutSine",offset:0,vertical:!0,horizontal:!1,cancellable:!0,updateURL:!1,preventDefault:!0,stopPropagation:!0,after:function(e,t,o){var r;t||0!==e.top?t&&t.getAttribute("href")?r=document.querySelector(t.getAttribute("href")):t&&"#"===t.getAttribute("data-scroll").substring(0,1)&&(r=document.querySelector(t.getAttribute("data-scroll"))):r=document.body,r&&(r.focus(),r!==document.activeElement&&(r.setAttribute("tabindex","-1"),r.focus(),r.blur(),r.removeAttribute("tabindex")))}});document.querySelectorAll("[data-scroll-top]").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),s.toTop(0)}))}));var c=!1,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;c=!0,e.classList.remove("m-active"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),c=!1}),t)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.classList.add("m-active"),c=!0,e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),c=!1}),t)},g=!1;document.querySelectorAll(".js_slidedown_trigger").forEach((function(e){e.addEventListener("click",(function(t){if(g=!0,t.preventDefault(),!c){var o=e.getAttribute("data-duration")?e.getAttribute("data-duration"):300;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;"none"===window.getComputedStyle(e).display?m(e,t):u(e,t)}(e.getAttribute("data-target")?document.querySelector(e.getAttribute("data-target")):e.closest(".js_slidedown").querySelector(".js_slidedown_content"),o),e.classList.contains("m-active")?(e.classList.remove("m-active"),e.closest(".js_slidedown")&&e.closest(".js_slidedown").classList.remove("m-active")):(e.classList.add("m-active"),e.closest(".js_slidedown")&&e.closest(".js_slidedown").classList.add("m-active"))}setTimeout((function(){g=!1}),501)}))}));var y,f=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;function p(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;e>42?document.body.classList.add("m-scrolled"):document.body.classList.remove("m-scrolled"),g||(e<f?document.body.classList.add("m-scrolled-up"):document.body.classList.remove("m-scrolled-up")),f=Math.max(e,0)}function v(){document.head.querySelector("#scrollStuff").remove()}p(),window.addEventListener("scroll",(function(){clearTimeout(y),y=setTimeout((function(){p()}),50)}),!1),document.querySelectorAll(".js_toggle_trigger").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o="";if(o=e.getAttribute("data-target")?document.querySelector(e.getAttribute("data-target")):e.getAttribute("href")?document.querySelector(e.getAttribute("href")):e.closest(".js_toggle"),e.classList.toggle("m-active"),o.classList.toggle("m-active"),e.classList.contains("js_burger")){var r=e.classList.contains("m-active")?0:320;setTimeout((function(){document.body.classList.toggle("m-burgered")}),r)}}))})),document.querySelectorAll(".js_burger_close").forEach((function(e){e.addEventListener("click",(function(e){var t=document.querySelector(".js_burger.m-active");t&&t.click()}))})),document.querySelectorAll(".js_popup_trigger").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o,r,n=e.getAttribute("href")?document.querySelector(e.getAttribute("href")):document.querySelector(e.getAttribute("data-target"));o=window.innerWidth-document.documentElement.clientWidth,r='\n    < style id = "scrollStuff" >\n      html { overflow: hidden; }\n  body, .js_popup_show_margin { padding - right: '.concat(o," px; }\n        body { width: auto; }\n      </style >\n    "),document.head.insertAdjacentHTML("beforeend",r),n.classList.add("m-active")}))})),document.querySelectorAll(".js_popup_close").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(".js_popup.m-active");t&&(t.classList.remove("m-active"),setTimeout((function(){v()}),300))}))})),document.addEventListener("keyup",(function(e){var t;"Escape"===e.key&&(t=document.querySelector(".js_popup.m-active"))&&(t.classList.remove("m-active"),setTimeout((function(){v()}),300))}))})),fetch("https://s3.amazonaws.com/android.utils/app_version_no_google.json").then((function(e){return e.json()})).then((function(e){if(e&&e.download_url){var t=document.getElementById("apk-link");if(!t)return;t.href=e.download_url}}));
//# sourceMappingURL=main.js.map
